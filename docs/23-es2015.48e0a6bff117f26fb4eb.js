(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{Nyzf:function(t,e,o){"use strict";o.r(e),o.d(e,"AttendancereportsModule",function(){return L});var n=o("ofXK"),r=o("tyNb"),c=o("fXoL");let a=(()=>{let t=class{constructor(t){this.ngZone=t,window.onresize=t=>{this.ngZone.run(()=>{this.innerHeight=window.innerHeight+"px"})},this.getScreenHeight()}getScreenHeight(){this.innerHeight=window.innerHeight+"px"}ngOnInit(){}onResize(t){this.innerHeight=t.target.innerHeight+"px"}};return t.\u0275fac=function(e){return new(e||t)(c.Ub(c.G))},t.\u0275cmp=c.Ob({type:t,selectors:[["app-attendancereports"]],decls:1,vars:0,template:function(t,e){1&t&&c.Vb(0,"router-outlet")},directives:[r.g],styles:[""]}),t})();var i=o("3Pt+"),s=o("AytR"),l=o("rmPI"),b=o("tk/3");let d=(()=>{class t{constructor(t){this.http=t}getReportBetweenDate(t){return this.http.post(`${l.a}/attnReport/reportBetweenDate`,t)}}return t.\u0275fac=function(e){return new(e||t)(c.ec(b.c))},t.\u0275prov=c.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=o("oW1M");function u(t,e){if(1&t&&(c.ac(0,"td",33),c.Lc(1),c.Zb()),2&t){const t=c.jc().$implicit;c.Ib(1),c.Nc(" ",t.attnDayStsFinalType," ")}}function f(t,e){if(1&t&&(c.ac(0,"td",34),c.Lc(1),c.Zb()),2&t){const t=c.jc().$implicit;c.Ib(1),c.Nc(" ",t.attnDayStsFinalType," ")}}function m(t,e){if(1&t&&(c.ac(0,"td",35),c.Lc(1),c.Zb()),2&t){const t=c.jc().$implicit;c.Ib(1),c.Nc(" ",t.attnDayStsFinalType," ")}}function h(t,e){if(1&t&&(c.ac(0,"td",34),c.Lc(1),c.Zb()),2&t){const t=c.jc().$implicit;c.Ib(1),c.Nc(" ",t.attnDayStsFinalType," ")}}function g(t,e){if(1&t&&(c.ac(0,"td",34),c.Lc(1),c.Zb()),2&t){const t=c.jc().$implicit;c.Ib(1),c.Nc(" ",t.attnDayStsFinalType," ")}}function D(t,e){if(1&t&&(c.ac(0,"tr"),c.ac(1,"td",28),c.Lc(2),c.Zb(),c.ac(3,"td",28),c.Lc(4),c.Zb(),c.ac(5,"td",28),c.Lc(6),c.Zb(),c.ac(7,"td",28),c.Lc(8),c.Zb(),c.Jc(9,u,2,1,"td",30),c.Jc(10,f,2,1,"td",31),c.Jc(11,m,2,1,"td",32),c.Jc(12,h,2,1,"td",31),c.Jc(13,g,2,1,"td",31),c.Zb()),2&t){const t=e.$implicit,o=e.index;c.Ib(2),c.Mc(o+1),c.Ib(2),c.Mc(t.createDate),c.Ib(2),c.Mc(t.inTime),c.Ib(2),c.Mc(t.outTime),c.Ib(1),c.pc("ngIf",1==t.isColor),c.Ib(1),c.pc("ngIf",2==t.isColor),c.Ib(1),c.pc("ngIf",null==t.isColor),c.Ib(1),c.pc("ngIf",4==t.isColor),c.Ib(1),c.pc("ngIf",3==t.isColor)}}const y=[{path:"",component:a,children:[{path:"attendance-reports",component:(()=>{class t{constructor(t,e,o,n){this.formBuilder=t,this.attnReport=e,this.datePipe=o,this.router=n,this.contextPth=s.a.contextPath,this.AttnReport=[]}ngOnInit(){$(".floating").length>0&&$(".floating").on("focus blur",function(t){$(this).parents(".form-focus").toggleClass("focused","focus"===t.type||this.value.length>0)}).trigger("blur"),this.initializeForm(),this.loadAttnDada(),this.selInitialDefaultValues()}initializeForm(){this.reportBetweenDateForm=this.formBuilder.group({fromDate:["",[i.u.required]],toDate:["",[i.u.required]]})}selInitialDefaultValues(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1).toLocaleDateString("en-US"),o=t.toLocaleDateString("en-US");this.reportBetweenDateForm=this.formBuilder.group({fromDate:[e],toDate:[o]}),setTimeout(()=>{const t=document.querySelector(".fromDate");t.focus(),t.blur()},500),setTimeout(()=>{const t=document.querySelector(".toDate");t.focus(),t.blur()},700)}formSubmit(){let t=Object.assign(this.reportBetweenDateForm.value),e=this.datePipe.transform(t.fromDate,"yyyy-MM-dd").toString().slice(0,10);t.fromDate=e;let o=this.datePipe.transform(t.toDate,"yyyy-MM-dd").toString().slice(0,10);t.toDate=o,this.attnReport.getReportBetweenDate(t).subscribe(t=>{this.AttnReport=t})}loadAttnDada(){let t=Object.assign(this.reportBetweenDateForm.value);t.fromDate=null,t.toDate=null,this.todate=new Date,this.startdate=new Date(this.todate.getFullYear(),this.todate.getMonth(),1),this.todate=this.todate.toLocaleDateString("en-US"),this.startdate=this.startdate.toLocaleDateString("en-US"),this.attnReport.getReportBetweenDate(t).subscribe(t=>{this.AttnReport=t})}renderJasperReport(){let t=this.reportBetweenDateForm.value,e=t.toDate,o=this.datePipe.transform(t.fromDate,"yyyy-MM-dd").toString().slice(0,10),n=this.datePipe.transform(e,"yyyy-MM-dd").toString().slice(0,10);const r=this.router.serializeUrl(this.router.createUrlTree([this.contextPth+"reports/attendance-jsr-rpt"],{queryParams:{fromDate:o,toDate:n}}));window.open(r,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(c.Ub(i.d),c.Ub(d),c.Ub(n.e),c.Ub(r.c))},t.\u0275cmp=c.Ob({type:t,selectors:[["app-attendancereports-list"]],decls:57,vars:2,consts:[[1,"page-wrapper"],[1,"content","container-fluid"],[1,"page-header"],[1,"row","align-items-center"],[1,"col"],[1,"page-title"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],[1,"breadcrumb-item","active"],[1,"col-auto","float-right","ml-auto"],["_ngcontent-pcf-c133","",1,"btn-group","btn-group-sm"],["_ngcontent-pcf-c133","",1,"btn","btn-white"],["_ngcontent-pcf-c133","",1,"btn","btn-white",3,"click"],["_ngcontent-pcf-c133","",1,"fa","fa-print","fa-lg"],[3,"formGroup","ngSubmit"],[1,"row","filter-row","mb-4"],[1,"col-sm-6","col-md-3"],[1,"form-group","form-focus"],[1,"cal-icon"],["formControlName","fromDate","type","text","bsDatepicker","",1,"form-control","floating","datetimepicker","fromDate","dateEntryField"],[1,"focus-label"],["formControlName","toDate","type","text","bsDatepicker","",1,"form-control","floating","datetimepicker","toDate","dateEntryField"],["type","submit",1,"btn","btn-primary","submit-btn"],[1,"row"],[1,"col-md-12"],[1,"table-responsive"],[1,"table","table-striped","custom-table"],[1,"tdthwidth"],[4,"ngFor","ngForOf"],["style","color: green;",4,"ngIf"],["style","color: rgb(231, 163, 15);",4,"ngIf"],["style","color: rgb(228, 19, 36);",4,"ngIf"],[2,"color","green"],[2,"color","rgb(231, 163, 15)"],[2,"color","rgb(228, 19, 36)"]],template:function(t,e){1&t&&(c.ac(0,"div",0),c.ac(1,"div",1),c.ac(2,"div",2),c.ac(3,"div",3),c.ac(4,"div",4),c.ac(5,"h3",5),c.Lc(6,"Attendance Reports"),c.Zb(),c.ac(7,"ul",6),c.ac(8,"li",7),c.ac(9,"a",8),c.Lc(10,"Dashboard"),c.Zb(),c.Zb(),c.ac(11,"li",9),c.Lc(12,"Attendance Reports"),c.Zb(),c.Zb(),c.Zb(),c.ac(13,"div",10),c.ac(14,"div",11),c.ac(15,"button",12),c.Lc(16,"CSV"),c.Zb(),c.ac(17,"button",13),c.hc("click",function(){return e.renderJasperReport()}),c.Lc(18,"PDF"),c.Zb(),c.ac(19,"button",12),c.Vb(20,"i",14),c.Lc(21," Print"),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.ac(22,"form",15),c.hc("ngSubmit",function(){return e.formSubmit()}),c.ac(23,"div",16),c.ac(24,"div",17),c.ac(25,"div",18),c.ac(26,"div",19),c.Vb(27,"input",20),c.Zb(),c.ac(28,"label",21),c.Lc(29,"Form Date"),c.Zb(),c.Zb(),c.Zb(),c.ac(30,"div",17),c.ac(31,"div",18),c.ac(32,"div",19),c.Vb(33,"input",22),c.Zb(),c.ac(34,"label",21),c.Lc(35,"To Date"),c.Zb(),c.Zb(),c.Zb(),c.ac(36,"div",17),c.ac(37,"button",23),c.Lc(38," Search "),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.ac(39,"div",24),c.ac(40,"div",25),c.ac(41,"div",26),c.ac(42,"table",27),c.ac(43,"thead"),c.ac(44,"tr"),c.ac(45,"th",28),c.Lc(46,"#"),c.Zb(),c.ac(47,"th",28),c.Lc(48,"Date"),c.Zb(),c.ac(49,"th",28),c.Lc(50,"In Time"),c.Zb(),c.ac(51,"th",28),c.Lc(52,"Out Time"),c.Zb(),c.ac(53,"th",28),c.Lc(54,"Status"),c.Zb(),c.Zb(),c.Zb(),c.ac(55,"tbody"),c.Jc(56,D,14,9,"tr",29),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&t&&(c.Ib(22),c.pc("formGroup",e.reportBetweenDateForm),c.Ib(34),c.pc("ngForOf",e.AttnReport))},directives:[r.e,i.v,i.o,i.h,i.b,p.b,i.n,i.f,p.a,n.l,n.m],styles:["input.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-color:#667eea;border-left:3px solid #667eea;box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#705cba;outline:0;box-shadow:inset 0 1px 1px rgb(0 0 0/8%),0 0 8px rgb(102 175 233/60%)}.tdthwidth[_ngcontent-%COMP%]{width:40px;max-width:40px}"]}),t})()}]}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Sb({type:t}),t.\u0275inj=c.Rb({imports:[[r.f.forChild(y)],r.f]}),t})();var w=o("njyG"),v=o("iHf9"),I=o("0jEk"),S=o("e/yp");let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Sb({type:t}),t.\u0275inj=c.Rb({imports:[[n.c,Z,n.c,i.j,I.a,i.s,v.b,S.a,p.c.forRoot(),w.b,b.d]]}),t})()}}]);